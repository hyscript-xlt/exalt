/*
 * This file was generated by the Gradle 'init' task.
 *
 * This generated file contains a sample Java application project to get you started.
 * For more details take a look at the 'Building Java & JVM projects' chapter in the Gradle
 * User Manual available at https://docs.gradle.org/6.8.3/userguide/building_java_projects.html
 */
plugins {
    id 'war'
}

war {
    getArchiveFileName().set("demo.war")
    destinationDirectory = getDestinationDirectory().dir("$rootDir/app/build/war").get()
}

ext {
    jakartaVersion = "8.0.0"
    junitVersion = "5.6.2"
    aerostrikeVersion = "4.1.2"
    assertJVersion = "3.19.0"
    vavrVersion = "0.10.3"
    lombokVersion = "1.18.16"
    databindVersion = "2.12.2"
    mockitoVersion = "3.8.0"
}

repositories {
    mavenCentral()
}

sourceCompatibility = "1.8"
targetCompatibility = "1.8"

dependencies {
    providedCompile "jakarta.platform:jakarta.jakartaee-api:$jakartaVersion"

    implementation "com.aerospike:aerospike-client:$aerostrikeVersion"
    implementation "io.vavr:vavr:$vavrVersion"
    implementation "com.fasterxml.jackson.core:jackson-databind:$databindVersion"

    compileOnly "org.projectlombok:lombok:$lombokVersion"
    annotationProcessor "org.projectlombok:lombok:$lombokVersion"

    //Test dependencies
    testImplementation "org.assertj:assertj-core:$assertJVersion"
    testImplementation "org.junit.jupiter:junit-jupiter-api:$junitVersion"
    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine'
}


tasks.named('test') {
    // Use junit platform for unit tests.
    useJUnitPlatform()
}

